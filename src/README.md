# Система управления личными финансами

Консольное Java-приложение для учёта доходов/расходов и бюджетов по категориям.  
Поддерживает несколько пользователей (логин/пароль), хранит данные в памяти во время работы и сохраняет снимок состояния в файлы пользователя при выходе.

## Возможности

### Авторизация и хранение
- Регистрация и вход по логину/паролю (несколько пользователей).
- Данные в памяти; при выходе снимок состояния сохраняется в `<login>_wallet.txt`.
- При следующем входе кошелёк пользователя загружается из файла.

### Управление финансами
- Добавление **доходов** и **расходов** с категорией и комментарием.
- Бюджеты по категориям расходов.
- Просмотр **сводки** (общие доход/расход/баланс).
- Просмотр **бюджетов** (лимит, потрачено, остаток).
- **Подсчёт по нескольким категориям** (доход/расход по выбранному списку).

### Оповещения и валидация
- Предупреждение при достижении **80%** лимита бюджета и при **превышении**.
- Предупреждение, когда **расходы превышают доходы**.
- Валидация числового ввода (положительные суммы), базовые сообщения об ошибках.

### Экспорт
- Экспорт CSV-отчёта: `<login>_report.csv` (операции + агрегированные итоги).

## Архитектура

finance-app/
OOP_8_final_project/
├── src/
│   ├── cli/
│   │   └── CommandLine.java
│   ├── model/
│   │   ├── Transaction.java
│   │   ├── User.java
│   │   └── Wallet.java
│   ├── service/
│   │   ├── ReportService.java
│   │   └── UserService.java
│   ├── util/
│   │   └── Validator.java
│   ├── Main.java
│   └── test/
│       └── java/
│           ├── model/
│           │   └── WalletTest.java
│           └── service/
│               └── UserServiceTest.java
├── junit-platform-console-standalone-1.14.1.jar
├── README.md
└── build_and_test.ps1



- **Модель**: `User`, `Wallet`, `Transaction`.
- **Сервисы**: `UserService` (реестр пользователей), `ReportService` (экспорт).
- **CLI**: `CommandLine` управляет сценарием, меню и вызовами сервисов.
- **Файлы данных**:
    - `users.txt` — список пользователей (`login,password`).
    - `<login>_wallet.txt` — данные кошелька: бюджеты и операции.

## Цифровое меню

После входа доступно меню (цифровые пункты):

| № | Действие                                               |
|---|--------------------------------------------------------|
| 1 | Добавить доход (категория, сумма, комментарий)         |
| 2 | Добавить расход (категория, сумма, комментарий)        |
| 3 | Установить бюджет на категорию                         |
| 4 | Показать общие доходы, расходы и баланс                |
| 5 | Показать все бюджеты и остаток по каждой категории     |
| 6 | Подсчёт по выбранным категориям (список через запятую) |
| 7 | Экспорт отчёта в CSV                                   |
| 8 | Сохранить и выйти из аккаунта                          |


# сборка и запуск тестов (PowerShell)
New-Item -ItemType Directory -Force out | Out-Null
$main = Get-ChildItem -Recurse -Filter *.java -Path .\src | ? { $_.FullName -notmatch '\\src\\test\\' } | % FullName
javac -d .\out $main
$tests = Get-ChildItem -Recurse -Filter *.java -Path .\src\test\java | % FullName
javac -d .\out -cp ".;.\out;.\junit-platform-console-standalone-1.14.1.jar" $tests
java -jar ".\junit-platform-console-standalone-1.14.1.jar" -cp ".\out" --scan-classpath





